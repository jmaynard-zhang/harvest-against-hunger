fix_lbs_purchased <- apply(fix_lbs_purchased, 2, gsub, pattern = "\\(.*", replacement = "")
fix_lbs_purchased <- list[[1]]
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
fix_lbs_purchased <- fix_lbs_purchased %>%  # <- Remove everything after the '='
# and '(' signs (uninclusive)
select(`Pounds purchased`) %>%
apply(2, gsub, pattern="\\(.*", replacement = "")
# -- Testing purposes --
fix_lbs_purchased <- list[[1]]
fix_lbs_purchased$`Pounds purchased` <- fix_lbs_purchased %>%  # <- Remove everything after the '='
# and '(' signs (uninclusive)
select(`Pounds purchased`) %>%
apply(2, gsub, pattern="\\(.*", replacement = "")
# -- Testing purposes --
fix_lbs_purchased <- list[[2]]
select(`Pounds purchased`) %>%
apply(2, gsub, pattern="\\(.*", replacement = "")
fix_lbs_purchased$`Pounds purchased` <- fix_lbs_purchased %>%  # <- Remove everything after the '='
# and '(' signs (uninclusive)
select(`Pounds purchased`) %>%
apply(2, gsub, pattern="\\(.*", replacement = "")
# -- Testing purposes --
fix_lbs_purchased <- list[[2]]
fix_lbs_purchased$`Pounds purchased` <- fix_lbs_purchased %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern="=.*", replacement = "")
remove(fix_lbs_purchased)
# -- Testing purposes --
fix_pp <- df
# -- Testing purposes --
fix_pp <- df
View(fix_pp)
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern="=.*", replacement = "")
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# <- Remove everything after the '=' and '(' signs (uninclusive)
remove <- c("\\(.*", "=.*")
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
library(stringr)
a.vector <- str_remove_all(a.vector, paste(remove, collapse = "|"))
remove <- c("\\(.*", "=.*")
fix_pp <- str_remove_all(fix_pp, paste(remove, collapse = "|"))
# -- Testing purposes --
fix_pp <- df
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# <- Remove everything after the '=' and '(' signs (uninclusive)
remove <- c("\\(.*", "=.*")
fix_pp <- str_remove_all(fix_pp, paste(remove, collapse = "|"))
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# <- Remove everything after the '=' and '(' signs (uninclusive)
remove <- "\\(.*|=.*"
# -- Testing purposes --
fix_pp <- df
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# <- Remove everything after the '=' and '(' signs (uninclusive)
remove <- "\\(.*|=.*"
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# <- Remove everything after the '=' and '(' signs (uninclusive)
remove <- "\\(.*|=.*|$.*"
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# <- Remove everything after the '=' and '(' signs (uninclusive)
remove <- "\\(.*|=.*|\\$.*"
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# Remove everything after the '=' and '(' signs (uninclusive). Retain numeric
# and whitespaces.
remove <- "\\(.*|=.*|\\$.*|[^0-9.-]"
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
# -- Testing purposes --
fix_pp <- df
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# Remove everything after the '=' and '(' signs (uninclusive). Retain numeric
# and whitespaces.
remove <- "\\(.*|=.*|\\$.*|[\\s]"
# -- Testing purposes --
fix_pp <- df
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# Remove everything after the '=' and '(' signs (uninclusive). Retain numeric
# and whitespaces.
remove <- "\\(.*|=.*|\\$.*|\\d"
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# Remove everything after the '=' and '(' signs (uninclusive). Retain numeric
# and whitespaces.
remove <- "\\(.*|=.*|\\$.*|[\\d]"
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# Remove everything after the '=' and '(' signs (uninclusive). Retain numeric
# and whitespaces.
remove <- "\\(.*|=.*|\\$.*|[^0-9.-]"
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
[\\s]
# -- Testing purposes --
fix_pp <- df
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# Remove everything after the '=' and '(' signs (uninclusive). Retain numeric
# and whitespaces.
remove <- "\\(.*|=.*|\\$.*|[\\s]"
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
# -- Testing purposes --
fix_pp <- df
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# Remove everything after the '=' and '(' signs (uninclusive). Retain numeric
# and whitespaces.
remove <- "\\(.*|=.*|\\$.*|\\s"
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# Remove everything after the '=' and '(' signs (uninclusive). Retain numeric
# and whitespaces.
remove <- "\\(.*|=.*|\\$.*|\\s?"
# -- Testing purposes --
fix_pp <- df
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# Remove everything after the '=' and '(' signs (uninclusive). Retain numeric
# and whitespaces.
remove <- "\\(.*|=.*|\\$.*|[^0-9.- ]"
# -- Testing purposes --
fix_pp <- df
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# Remove everything after the '=' and '(' signs (uninclusive). Retain numeric
# and whitespaces.
remove <- "\\(.*|=.*|\\$.*|[^0-9.-]| "
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
# -- Testing purposes --
fix_pp <- df
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# Remove everything after the '=' and '(' signs (uninclusive). Retain numeric
# and whitespaces.
remove <- "\\(.*|=.*|\\$.*|[^0-9.-]|[ ]"
# -- Testing purposes --
fix_pp <- df
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
# -- Testing purposes --
fix_pp <- df
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# Remove everything after the '=' and '(' signs (uninclusive). Retain numeric
# and whitespaces.
remove <- "\\(.*|=.*|\\$.*|[^0-9.-\\s]"
# -- Testing purposes --
fix_pp <- df
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
# -- Testing purposes --
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# Remove everything after the '=' and '(' signs (uninclusive). Retain numeric
# and whitespaces.
remove <- "\\(.*|=.*|\\$.*|[^0-9\\s]"
fix_pp <- df
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
# -- Testing purposes --
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# Remove everything after the '=' and '(' signs (uninclusive). Retain numeric
# and whitespaces.
remove <- "\\(.*|=.*|\\$.*|[^0-9.\\s]"
fix_pp <- df
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
# -- Testing purposes --
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# Remove everything after the '=' and '(' signs (uninclusive). Retain numeric
# and whitespaces.
remove <- "\\(.*|=.*|\\$.*|[^0-9.]|[:space:]"
fix_pp <- df
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
# -- Testing purposes --
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# Remove everything after the '=' and '(' signs (uninclusive). Retain numeric
# and whitespaces.
remove <- "\\(.*|=.*|\\$.*|[^0-9.:space:]"
fix_pp <- df
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
# -- Testing purposes --
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# Remove everything after the '=' and '(' signs (uninclusive). Retain numeric
# and whitespaces.
remove <- "\\(.*|=.*|\\$.*|[[^0-9.][:space:]"
fix_pp <- df
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
# -- Testing purposes --
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# Remove everything after the '=' and '(' signs (uninclusive). Retain numeric
# and whitespaces.
remove <- "\\(.*|=.*|\\$.*|[[^0-9.][:space:]]"
fix_pp <- df
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
# -- Testing purposes --
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# Remove everything after the '=' and '(' signs (uninclusive). Retain numeric
# and whitespaces.
remove <- "\\(.*|=.*|\\$.*|[^0-9.\s]"
fix_pp <- df
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
# -- Testing purposes --
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# Remove everything after the '=' and '(' signs (uninclusive). Retain numeric
# and whitespaces.
remove <- "\\(.*|=.*|\\$.*|[ +$]"
fix_pp <- df
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
# -- Testing purposes --
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# Remove everything after the '=' and '(' signs (uninclusive). Retain numeric
# and whitespaces.
remove <- "\\(.*|=.*|\\$.*| +$"
fix_pp <- df
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
# -- Testing purposes --
## Add together pounds purchased (remove all non-numeric characters and add
## remaining numbers; there will be some errors, but it's the best solution)
# 1. Remove unnecessary numbers by removing everything after the '=', '(', and
# '$' signs (uninclusive).
remove <- "\\(.*|=.*|\\$.*| +$"
fix_pp <- df
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
?mutate
fix_pp <- df
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
transmute(Rmv_Trailing) %>%
apply(2, gsub, pattern=remove, replacement = "")
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
transmute(Rmv_Trailing=apply(2, gsub, pattern=remove, replacement = ""))
fix_pp$`Pounds purchased` <- fix_pp %>%
transmute(`Pounds purchased` = apply(fix_pp, 2, gsub, pattern=remove, replacement = ""))
fix_pp$`Pounds purchased` <- fix_pp %>%
transmute(`Pounds purchased` = apply(fix_pp$`Pounds purchased`, 2, gsub, pattern=remove, replacement = ""))
fix_pp <- df
fix_pp$`Pounds purchased` <- fix_pp %>%
transmute(`Pounds purchased` = apply(fix_pp$`Pounds purchased`, 2, gsub, pattern=remove, replacement = ""))
apply(fix_pp$`Pounds purchased`, 2, gsub, pattern=remove, replacement = "")
remove <- "\\(.*|=.*|\\$.*| +$"
fix_pp <- df
fix_pp$`Pounds purchased` <- fix_pp %>%
select(`Pounds purchased`) %>%
apply(2, gsub, pattern=remove, replacement = "")
fix_pp <- fix_pp %>%
transmute(`Pounds purchased` = gsub(pattern=remove, replacement = "", fix_pp))
?gsub
fix_pp <- fix_pp %>%
transmute(`Pounds purchased` = gsub(pattern=remove, replacement = "", fix_pp$`Pounds purchased`))
fix_pp <- df
fix_pp <- fix_pp %>%
transmute(`Pounds purchased` = gsub(pattern=remove, replacement = "", fix_pp$`Pounds purchased`))
?transmute
fix_pp <- df
fix_pp <- fix_pp %>%
transmute(`Pounds purchased`=gsub(pattern=remove,
replacement = "",
fix_pp$`Pounds purchased`),
.keep = "all")
fix_pp <- fix_pp %>%
transmute(`Pounds purchased`=gsub(pattern=remove,
replacement = "",
fix_pp$`Pounds purchased`),
.keep = c("all", "used"))
fix_pp <- fix_pp %>%
transmute(`Pounds purchased`=gsub(pattern=remove,
replacement = "",
fix_pp$`Pounds purchased`),
.keep = c("all", "used", "unused", "none"))
fix_pp <- fix_pp %>%
transmute(`Pounds purchased`=gsub(pattern=remove,
replacement = "",
fix_pp$`Pounds purchased`),
.keep = c("all"))
fix_pp <- df
fix_pp <- fix_pp %>%
mutate_at(`Pounds purchased`=gsub(pattern=remove,
replacement = "",
fix_pp$`Pounds purchased`))
?mutate_at
fix_pp <- fix_pp %>%
mutate(`Pounds purchased`=gsub(pattern=remove,
replacement = "",
fix_pp$`Pounds purchased`))
fix_pp <- df
fix_pp <- fix_pp %>%
mutate(`Pounds purchased`=gsub(pattern=remove,
replacement = "",
fix_pp$`Pounds purchased`))
shiny::runApp()
runApp()
source("C:/Users/starr/Google Drive/Main Projects/Harvest Against Hunger Summer '21/harvest-against-hunger/app_server.R")
shiny::runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
View(total_orders)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
shiny::runApp()
View(funds_yearly)
View(orders_monthly)
runApp()
runApp()
# -- Total Orders --
total_orders <- df %>%
select(`Farm Name`, `Order Date`, lat, lon) %>%
group_by(`Farm Name`, lat, lon) %>%
summarize(total_orders=n()) %>%
na.omit()
source("C:/Users/starr/Google Drive/Main Projects/Harvest Against Hunger Summer '21/harvest-against-hunger/Data/Data Filtering.R")
source("C:/Users/starr/Google Drive/Main Projects/Harvest Against Hunger Summer '21/harvest-against-hunger/Static_Scripts/Vis 1 - Line.R")
source("C:/Users/starr/Google Drive/Main Projects/Harvest Against Hunger Summer '21/harvest-against-hunger/Static_Scripts/Vis 2 - Map.R")
runApp()
runApp()
View(total_lbs)
runApp()
runApp()
runApp()
runApp()
View(orders_monthly)
fig <- fig %>% layout(
title = "Stock Prices",
xaxis = list(
rangeselector = list(
buttons = list(
list(
count = 3,
label = "3 mo",
step = "month",
stepmode = "backward"),
list(
count = 6,
label = "6 mo",
step = "month",
stepmode = "backward"),
list(
count = 1,
label = "1 yr",
step = "year",
stepmode = "backward"),
list(
count = 1,
label = "YTD",
step = "year",
stepmode = "todate"),
list(step = "all"))),
rangeslider = list(type = "date")),
yaxis = list(title = "Price"))
fig <- plot_ly(orders_monthly, x = ~Date)
fig <- fig %>% add_lines(y = num_orders_cum, name = "Orders Monthly")
fig <- fig %>% add_lines(y = orders_monthly$num_orders_cum, name = "Orders Monthly")
fig <- fig %>% layout(
title = "Stock Prices",
xaxis = list(
rangeselector = list(
buttons = list(
list(
count = 3,
label = "3 mo",
step = "month",
stepmode = "backward"),
list(
count = 6,
label = "6 mo",
step = "month",
stepmode = "backward"),
list(
count = 1,
label = "1 yr",
step = "year",
stepmode = "backward"),
list(
count = 1,
label = "YTD",
step = "year",
stepmode = "todate"),
list(step = "all"))),
rangeslider = list(type = "date")),
yaxis = list(title = "Price"))
fig
source("~/.active-rstudio-document")
fig
source("~/.active-rstudio-document")
fig
runApp()
runApp()
runApp()
runApp()
fig
fig <- plot_ly(orders_monthly, x = ~order_month) %>%
add_lines(y = orders_monthly$num_orders_cum, name = "Orders Monthly") %>%
layout(
title = "Stock Prices",
xaxis = list(
rangeslider = list(type = "date")),
yaxis = list(title = "Price"))
fig
fig <- plot_ly(orders_monthly, x = ~order_month) %>%
add_lines(y = orders_monthly$num_orders_cum, name = "Orders Monthly") %>%
layout(
title = "Orders Monthly",
xaxis = list(
rangeslider = list(type = "date")),
yaxis = list(title = "Orders"))
fig
fig <- plot_ly(orders_monthly, x = ~order_month) %>%
add_lines(y = orders_monthly$num_orders_cum, name = "Orders Monthly") %>%
layout(
title = "Orders Monthly",
xaxis = list(
rangeslider = list(type = "date"),
title = "Month"),
yaxis = list(title = "Orders"))
fig
runApp()
runApp()
runApp()
runApp()
runApp()
